<div class="relative overflow-hidden p-6">
  <div class="absolute top-0 -left-8 size-16 rounded-full bg-primary"></div>
  <div class="absolute top-4 -left-4 size-6 rounded-full bg-white"></div>
  <div class="absolute -top-20 left-0 size-36 rounded-full bg-pink-100"></div>
  <div class="absolute -top-24 -right-24 size-44 rounded-full bg-primary"></div>

  <mat-progress-bar *ngIf="loading()" mode="indeterminate"></mat-progress-bar>
  
  <div class="md:w-2/3 m-auto">
    <h1 [ngClass]="{
      'mt-12 mb-4 text-3xl font-semibold' : true,
      'mt-24' : action === 'Login'
    }">
      {{action}}
    </h1>
  
    <form [formGroup]="form" (ngSubmit)="onSubmit($event)">
      <div *ngIf="action==='Sign Up'" class="relative mb-6">
        <label for="name" class="block text-sm font-medium text-darkGray">
          Full Name
        </label>
        <input
          type="text"
          placeholder="Full Name"
          formControlName="name"
          [ngClass]="{'block w-full p-2 mt-1 text-lg placeholder-lightGray border border-lightGray rounded-lg focus:outline-none focus:border-primary' : true,
            'border-red-500': form.get('name')?.invalid && (form.get('name')?.touched || isSubmitted)
          }"
        />
        <span
          *ngIf="form.get('name')?.invalid && (form.get('name')?.touched || form.get('name')?.dirty || isSubmitted)"
          class="absolute left-0 top-full text-sm text-red-500"
        >
          {{ form.get('name') | validationError }}
        </span>
  
      </div>
      <div class="relative mb-6">
        <label for="email" class="block text-sm font-medium text-darkGray">
          Email
        </label>
        <input
          type="text"
          placeholder="Enter your email"
          formControlName="email"
          [ngClass]="{'block w-full p-2 mt-1 text-lg placeholder-lightGray border border-lightGray rounded-lg focus:outline-none focus:border-primary' : true,
            'border-red-500': form.get('email')?.invalid && (form.get('email')?.touched || isSubmitted)
          }"
        />
        <span
          *ngIf="form.get('email')?.invalid && (form.get('email')?.touched || form.get('email')?.dirty || isSubmitted)"
          class="absolute left-0 top-full text-sm text-red-500"
        >
          {{ form.get('email') | validationError }}
        </span>
      </div>
      <div class="relative mb-8">
        <label for="password"class="block text-sm font-medium text-darkGray">
          Password
        </label>
        <input
          type="password"
          placeholder="Password"
          formControlName="password"
          [ngClass]="{'block w-full p-2 mt-1 text-lg placeholder-lightGray border border-lightGray rounded-lg focus:outline-none focus:border-primary' : true,
            'border-red-500': form.get('password')?.invalid && (form.get('password')?.touched || isSubmitted)
          }"
        />
        <img src="assets/icons/eye.svg" alt="show/hide" class="absolute bottom-4 right-3 cursor-pointer" />
        <span
          *ngIf="form.get('password')?.invalid && (form.get('password')?.touched || form.get('password')?.dirty || isSubmitted)"
          class="absolute left-0 top-full text-sm text-red-500"
        >
          {{ form.get('password') | validationError }}
        </span>
      </div>
      <div class="flex justify-center">
        <button type="submit" class=" px-24 py-4 bg-primary rounded-full shadow-lg shadow-orange-300 text-lg text-white">
          {{action}}
        </button>
      </div>
    </form>
  </div>

  <div class="flex justify-center">
    <button *ngIf="action==='Login'" class="text-sm text-primary mt-6">
      Forgot password?
    </button>
  </div>

  <div class="text-center mt-6">
    <span *ngIf="action==='Sign Up'" class="text-darkGray text-sm">
      Already have an account?
      <button [routerLink]="['/', RoutingConstants.LOGIN]" class="text-primary hover:text-primary-dark">
        Login
      </button>
    </span>
    <span *ngIf="action==='Login'" class="text-darkGray text-sm">
      Don`t have an account?
      <button [routerLink]="['/', RoutingConstants.SIGNUP]" class="text-primary hover:text-primary-dark">
        Sign Up
      </button>
    </span>
  </div>

  <div class="flex items-center my-8">
    <div class="flex-grow border-t border-darkGray"></div>
    <span class="px-3 text-darkGray text-sm">{{action}} with</span>
    <div class="flex-grow border-t border-darkGray"></div>
  </div>

  <div class="flex flex-wrap justify-around m-auto md:w-2/3">
    <button class="flex items-center justify-center w-[180px] h-10 mb-4 bg-white text-gray-700 text-sm border border-gray-300 rounded-full 
      shadow-sm hover:bg-blue-100 hover:bg-opacity-25 hover:border-blue-100 active:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500;" (click)="loginWithFacebook()">
      <img src="assets/icons/facebook.svg"
           alt="Google Logo"
           class="w-5 h-5 mr-1">
      <span class="font-medium">Sign in with Facebook</span>
    </button>
    <div class="mb-4" id="googleSignInButton"></div>
  </div>
</div>